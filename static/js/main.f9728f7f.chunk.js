(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{22:function(e,t,a){},30:function(e,t,a){e.exports=a.p+"static/media/gifWallet.cad8efa7.gif"},34:function(e,t,a){e.exports=a(45)},43:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(18),c=a.n(r),o=a(23),i=a(12),u=(a(43),a(4)),s=a(5),m=a(7),d=a(6),h=a(2),p=a(16),b=a(9),E=a(3),f=(a(22),function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).state={email:"",password:""},e.onSubmitLogin=e.onSubmitLogin.bind(Object(b.a)(e)),e.handleChange=e.handleChange.bind(Object(b.a)(e)),e}return Object(s.a)(n,[{key:"onSubmitLogin",value:function(){var e=this.props,t=e.history;(0,e.getEmail)(this.state.email),t.push("/carteira")}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(p.a)({},a,n))}},{key:"render",value:function(){var e=this.state,t=e.email,n=e.password.length>=6;return l.a.createElement("main",{className:"login-form"},l.a.createElement("span",{className:"title"},"WALLET"),l.a.createElement("img",{src:a(30),alt:"wallet",className:"wallet-gif"}),l.a.createElement("input",{className:"input-form",placeholder:"E-mail",type:"text",name:"email","data-testid":"email-input",onChange:this.handleChange}),l.a.createElement("input",{className:"input-form",type:"password",name:"password",placeholder:"Password","data-testid":"password-input",onChange:this.handleChange}),l.a.createElement("button",{className:"button-login",type:"submit",disabled:!(/\S+@\S+\.\S+/.test(t)&&n),onClick:this.onSubmitLogin},"Entrar"))}}]),n}(l.a.Component)),v=Object(i.b)(null,(function(e){return{getEmail:function(t){return e(function(e){return{type:"SAVE_EMAIL",payload:e}}(t))}}}))(f),g=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.onClick;return l.a.createElement("input",{className:"button-expenses",type:"button",value:"Adicionar despesa",onClick:function(){return e()}})}}]),a}(l.a.Component),j=a(20),O=a(27),y=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).getCurrencyName=n.getCurrencyName.bind(Object(b.a)(n)),n.deleteItem=n.deleteItem.bind(Object(b.a)(n)),n}return Object(s.a)(a,[{key:"getCurrencyName",value:function(e,t){return e[t].name.split("/")[0]}},{key:"getRate",value:function(e,t){return e[t].ask}},{key:"getConvertedValue",value:function(e,t){var a=Number(e)*Number(t);return Math.round(100*(a+Number.EPSILON))/100}},{key:"deleteItem",value:function(e){var t=this.props,a=t.expenses,n=t.replaceExpenses,l=a.indexOf(e),r=Object(j.a)(a);r.splice(l,1),n(r)}},{key:"render",value:function(){var e=this.props.expense,t=e.value,a=e.description,n=e.currency,r=e.method,c=e.tag,o=e.exchangeRates,i=this.getCurrencyName(o,n),u=this.getRate(o,n),s=this.getConvertedValue(u,t),m=Math.round(100*u)/100;return l.a.createElement("tr",{className:"table-add"},l.a.createElement("td",null,a),l.a.createElement("td",null,c),l.a.createElement("td",null,r),l.a.createElement("td",null,"".concat(t)),l.a.createElement("td",null,i),l.a.createElement("td",null,"".concat(m)),l.a.createElement("td",null,"".concat(s)),l.a.createElement("td",null,"Real"),l.a.createElement("td",null,l.a.createElement("button",{type:"button","data-testid":"delete-btn",className:"button-delete",onClick:this.deleteItem},l.a.createElement(O.b,null)),l.a.createElement("button",{type:"button","data-testid":"edit-btn",className:"button-edit"},l.a.createElement(O.a,null))))}}]),a}(l.a.Component),C=Object(i.b)((function(e){return{expenses:e.wallet.expenses}}),(function(e){return{replaceExpenses:function(t){return e(function(e){return{type:"REFRESH_EXPENSES",payload:e}}(t))}}}))(y),N=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.expenses;return l.a.createElement("main",{className:"main-table"},l.a.createElement("table",{className:"table-new"},l.a.createElement("tr",null,l.a.createElement("th",null,"Descri\xe7\xe3o"),l.a.createElement("th",null,"Tag"),l.a.createElement("th",null,"M\xe9todo de pagamento"),l.a.createElement("th",null,"Valor"),l.a.createElement("th",null,"Moeda"),l.a.createElement("th",null,"C\xe2mbio utilizado"),l.a.createElement("th",null,"Valor convertido"),l.a.createElement("th",null,"Moeda de convers\xe3o"),l.a.createElement("th",null,"Excluir/Editar")),e.map((function(e){return l.a.createElement(C,{key:e.id,expense:e})}))))}}]),a}(l.a.Component),w=Object(i.b)((function(e){return{expenses:e.wallet.expenses}}))(N),x=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).state={id:0,value:"",description:"",currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o"},e.handleChange=e.handleChange.bind(Object(b.a)(e)),e.onSavedAdd=e.onSavedAdd.bind(Object(b.a)(e)),e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.fetchAPI)()}},{key:"onSavedAdd",value:function(){var e=this.props,t=e.expenses;(0,e.addChange)(Object(E.a)(Object(E.a)({},this.state),{},{id:t.length}))}},{key:"handleChange",value:function(e){var t=e.target,a=t.id,n=t.value;this.setState(Object(p.a)({},a,n))}},{key:"render",value:function(){var e=this.props.currencies,t=Object.keys(e);return l.a.createElement("div",null,l.a.createElement("form",{className:"form-wallet"},l.a.createElement("label",{htmlFor:"value",className:"label-form"},"Valor",l.a.createElement("input",{className:"input-wallet-form",type:"text",id:"value",onChange:this.handleChange})),l.a.createElement("label",{htmlFor:"description",className:"label-form"},"Descri\xe7\xe3o",l.a.createElement("input",{className:"input-wallet-form",type:"text",id:"description",onChange:this.handleChange})),l.a.createElement("label",{htmlFor:"currency",className:"label-form"},"Moeda",l.a.createElement("select",{id:"currency",onChange:this.handleChange},t.map((function(e,a){return l.a.createElement("option",{key:t[a],value:t[a]},t[a])})))),l.a.createElement("label",{htmlFor:"method",className:"label-form"},"M\xe9todo de pagamento",l.a.createElement("select",{id:"method",onChange:this.handleChange},l.a.createElement("option",null,"Dinheiro"),l.a.createElement("option",null,"Cart\xe3o de cr\xe9dito"),l.a.createElement("option",null,"Cart\xe3o de d\xe9bito"))),l.a.createElement("label",{htmlFor:"tag",className:"label-form"},"Tag",l.a.createElement("select",{id:"tag",onChange:this.handleChange},l.a.createElement("option",null,"Alimenta\xe7\xe3o"),l.a.createElement("option",null,"Lazer"),l.a.createElement("option",null,"Trabalho"),l.a.createElement("option",null,"Transporte"),l.a.createElement("option",null,"Sa\xfade"))),l.a.createElement(g,{onClick:this.onSavedAdd})),l.a.createElement("form",null,l.a.createElement(w,null)))}}]),a}(l.a.Component),k=Object(i.b)((function(e){return{currencies:e.wallet.currencies,expenses:e.wallet.expenses}}),(function(e){return{fetchAPI:function(t){return e((function(e){return fetch("https://economia.awesomeapi.com.br/json/all").then((function(t){return t.json().then((function(t){delete t.USDT,e({type:"CAMBIO_CHANGE",payload:t})}))}))}))},addChange:function(t){return e((a=t,function(e){return fetch("https://economia.awesomeapi.com.br/json/all").then((function(t){return t.json().then((function(t){var n=Object(E.a)(Object(E.a)({},a),{},{exchangeRates:t});return e({type:"CONVERT_VALUE",payload:n})}))}))}));var a}}}))(x),S=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).sumTotal=e.sumTotal.bind(Object(b.a)(e)),e}return Object(s.a)(n,[{key:"sumTotal",value:function(){var e=0;return this.props.convertValue.forEach((function(t){var a=t.value,n=t.currency,l=t.exchangeRates;return l[n]?e+=Number(a)*Number(l[n].ask):e})),e.toFixed(2)}},{key:"render",value:function(){var e=this.props.emailValue;return l.a.createElement("div",null,l.a.createElement("header",{className:"header-wallet"},l.a.createElement("img",{src:a(30),alt:"wallet",className:"wallet-header"}),l.a.createElement("span",{"data-testid":"email-field",className:"email-value"},e),l.a.createElement("span",{"data-testid":"total-field",className:"sum-total"},this.sumTotal()),l.a.createElement("span",{"data-testid":"header-currency-field",className:"sum-total"},"BRL")),l.a.createElement(k,null))}}]),n}(l.a.Component),A=Object(i.b)((function(e){return{emailValue:e.user.email,convertValue:e.wallet.expenses}}),null)(S),V=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement(h.c,null,l.a.createElement(h.a,{exact:!0,path:"/",component:v}),l.a.createElement(h.a,{path:"/carteira",component:A}))}}]),a}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=a(14),L=a(32),M=a(33),T={email:""},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_EMAIL":return Object(E.a)(Object(E.a)({},e),{},{email:t.payload});default:return e}},D={currencies:[],expenses:[]},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CAMBIO_CHANGE":return Object(E.a)(Object(E.a)({},e),{},{currencies:t.payload});case"CONVERT_VALUE":return Object(E.a)(Object(E.a)({},e),{},{expenses:[].concat(Object(j.a)(e.expenses),[t.payload])});case"REFRESH_EXPENSES":return Object(E.a)(Object(E.a)({},e),{},{expenses:t.payload});default:return e}},_=Object(R.combineReducers)({user:I,wallet:F}),P=Object(R.createStore)(_,Object(L.composeWithDevTools)(Object(R.applyMiddleware)(M.a)));c.a.render(l.a.createElement(o.a,null,l.a.createElement(i.a,{store:P},l.a.createElement(V,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.f9728f7f.chunk.js.map